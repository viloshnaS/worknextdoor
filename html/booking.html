<!DOCTYPE html>
<html>

<head>

    <title>Work-next-door searching API</title>

    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="js/script.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    
</head>

<body>
   
      <table>
        <tr>
          <th>Rate</th>
        </tr>
        <tr>
          <td><button class="rate" id="btn_hourly" value="1">Hourly</button></td>
          <td><button class="rate" id="btn_daily" value="2">Daily</button></td>
          <td><button class="rate" id="btn_monthly" value="3">Monthly</button></td>
          <td><input type="hidden" value="" id="space_rate"/>
        </tr>
      </table>

    <table>
      <tr>
        <td>
        <div  id="div_date_from"  style="display: none;">
            <table>
            <tr >
              <td >Date</td>
            </tr>
            <tr>
              <td><input class="datepicker" id="date_from" type ="date"></td>
            </tr>
          </table>
        </div>
      </td>

      <td>
        <div  id="div_date_to" style="display: none;">
            <table>
            <tr >
              <td>To</td>
            </tr>
            <tr>
              <td><input class="datepicker" id="date_to" type ="date"></td>
            </tr>
          </table>
        </div>
      </td>

      <td>
         <div  id="div_time_from" style="display: none;">
            <table>
            <tr >
              <td >Duration</td>
            </tr>
            <tr>
              <td >
                  <select id="time_from">
                    <option value="07">07.00</option>
                    <option value="08">08.00</option>
                    <option value="09">09.00</option>
                    <option value="10">10.00</option>
                    <option value="11">11.00</option>
                    <option value="12">12.00</option>
                    <option value="13">13.00</option>
                    <option value="14">14.00</option>
                    <option value="15">15.00</option>
                    <option value="16">16.00</option>
                    <option value="17">17.00</option>
                    <option value="18">18.00</option>
                    <option value="19">19.00</option>
                    <option value="20">20.00</option>
                    <option value="21">21.00</option>
                    <option value="22">22.00</option>
                    <option value="23">23.00</option>
                  </select>
              </td>
            </tr>
          </table>
        </div>
      </td>


       <td>
         <div  id="div_time_to" style="display: none;">
            <table>
            <tr >
              <td >To</td>
            </tr>
            <tr>
              <td >
                  <select id="time_to">
                    <option value="07">07.00</option>
                    <option value="08">08.00</option>
                    <option value="09">09.00</option>
                    <option value="10">10.00</option>
                    <option value="11">11.00</option>
                    <option value="12">12.00</option>
                    <option value="13">13.00</option>
                    <option value="14">14.00</option>
                    <option value="15">15.00</option>
                    <option value="16">16.00</option>
                    <option value="17">17.00</option>
                    <option value="18">18.00</option>
                    <option value="19">19.00</option>
                    <option value="20">20.00</option>
                    <option value="21">21.00</option>
                    <option value="22">22.00</option>
                    <option value="23">23.00</option>
                  </select>
              </td>
            </tr>
          </table>
        </div>
      </td>
       

      <td>
         <div  id="div_month" style="display: none;">
            <table>
            <tr>
              <td >Number of Months</td>
            </tr>
            <tr>
              <td><input id="month" type ="text"></td>
            </tr>
          </table>
        </div>
      </td>

    </tr>
  </table>
  <button id="submit">Proceed</button>

  </div>
</body>

<script>
        $(document).ready(function(){
          
            $(".rate").click(function(){
                
                var rate= this.value;


                //hourly - show time and hide to calendar
                if(rate==1){ 
                   $("#div_date_from").show();
                   $("#div_time_to").show();
                   $("#div_time_from").show();


                   $("#div_date_to").hide();
                   $("#div_month").hide();
                   $( "#space_rate" ).val("1");


                }

                //daily - hide time and show to calendar
                else if(rate==2){ 

                  $("#div_date_from").show();
                  $("#div_date_to").show();

                  $("#div_time_to").hide();
                  $("#div_time_from").hide();
                  $("#div_month").hide();
                
                  $( "#space_rate" ).val("2");


                }

                //monthly - hide time and to calendar - show number of months
                else if(rate ==3){

                  $("#div_date_from").show();
                  $("#div_month").show();
                  
                  
                  $("#div_time_to").hide();
                  $("#div_time_from").hide();
                  $("#div_date_to").hide();

                  $( "#space_rate" ).val("3");

                }
            });


            $("#submit").click(function(){
                var space_rate =$( "#space_rate" ).val();

                var date_time_from="";
                var date_time_to="";
                if(space_rate==1){
                  var date_from =$( "#date_from" ).val();
              
                  var time_from =$( "#time_from" ).val();
                  var time_to =$("#time_to" ).val();
                  date_time_from = date_from+ " "+time_from+":00:00";
                  date_time_to = date_from+ " "+time_to+":00:00";
                }
                else if(space_rate==2){
                  var date_from =$( "#date_from" ).val();
                  var date_to =$( "#date_to" ).val();
                  date_time_from = date_from+ " "+time_from+"07:00:00";
                  date_time_to = date_to+ " "+time_to+"23:00:00";
                 
                }

                 else if(space_rate==3){
                  var date_from =$( "#date_from" ).val();
                  var month =$( "#month" ).val();
                  var d = new Date(date_from,'yyyy-mm-dd');
                }

                localStorage.setItem("date_from",date_time_from);
                localStorage.setItem("date_to",date_time_to);
                localStorage.setItem("space_rate",space_rate);

                window.location="BookingSummary.html"

              });
        });
    </script>

</html>